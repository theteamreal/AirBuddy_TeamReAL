{% extends 'base.html' %}

{% block title %}Register - Pollution Platform{% endblock %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 0 auto;">
    <div class="card-header">→ REGISTER TEAM</div>
    
    <form method="post" style="padding: 1rem 0;">
        {% csrf_token %}
        
        <div style="border: 2px solid #000; padding: 1.5rem; margin-bottom: 2rem; background: #f9f9f9;">
            <h3 style="margin-bottom: 1rem; font-size: 1.2rem;">▶ Account Information</h3>
            
            <div class="form-group">
                <label class="form-label" for="{{ user_form.username.id_for_label }}">Username:</label>
                {{ user_form.username }}
                {% if user_form.username.errors %}
                    <div style="color: #ff6b6b; margin-top: 0.5rem;">{{ user_form.username.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label class="form-label" for="{{ user_form.password1.id_for_label }}">Password:</label>
                {{ user_form.password1 }}
                {% if user_form.password1.errors %}
                    <div style="color: #ff6b6b; margin-top: 0.5rem;">{{ user_form.password1.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label class="form-label" for="{{ user_form.password2.id_for_label }}">Confirm Password:</label>
                {{ user_form.password2 }}
                {% if user_form.password2.errors %}
                    <div style="color: #ff6b6b; margin-top: 0.5rem;">{{ user_form.password2.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div style="border: 2px solid #000; padding: 1.5rem; margin-bottom: 2rem; background: #fff;">
            <h3 style="margin-bottom: 1rem; font-size: 1.2rem;">▶ Health Questionnaire</h3>
            <p style="margin-bottom: 1.5rem; color: #666;">Help us personalize your dashboard with health-based air quality alerts.</p>
            
            <div class="form-group">
                <label class="form-label" for="{{ health_form.location.id_for_label }}">{{ health_form.location.label }}</label>
                {{ health_form.location }}
                {% if health_form.location.errors %}
                    <div style="color: #ff6b6b; margin-top: 0.5rem;">{{ health_form.location.errors }}</div>
                {% endif %}
            </div>
            
            <div style="background: #f9f9f9; padding: 1rem; border: 2px solid #e0e0e0; margin-bottom: 1rem;">
                <p style="font-weight: bold; margin-bottom: 0.5rem;">Health Conditions (select all that apply):</p>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    {{ health_form.has_respiratory_issues }}
                    <span>{{ health_form.has_respiratory_issues.label }}</span>
                </label>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    {{ health_form.has_heart_disease }}
                    <span>{{ health_form.has_heart_disease.label }}</span>
                </label>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    {{ health_form.has_allergies }}
                    <span>{{ health_form.has_allergies.label }}</span>
                </label>
            </div>
            
            <div style="background: #f9f9f9; padding: 1rem; border: 2px solid #e0e0e0; margin: 1.5rem 0 1rem 0;">
                <p style="font-weight: bold; margin-bottom: 0.5rem;">Age Group (select one if applicable):</p>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    {{ health_form.is_elderly }}
                    <span>{{ health_form.is_elderly.label }}</span>
                </label>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    {{ health_form.is_child }}
                    <span>{{ health_form.is_child.label }}</span>
                </label>
            </div>
            
            <div class="form-group">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    {{ health_form.is_pregnant }}
                    <span>{{ health_form.is_pregnant.label }}</span>
                </label>
            </div>
        </div>
        
        <div style="display: flex; gap: 1rem; justify-content: center;">
            <button type="submit" class="btn">→ REGISTER</button>
            <a href="{% url 'home' %}" class="btn btn-secondary">← BACK</a>
        </div>
    </form>
</div>

<div class="card" style="max-width: 800px; margin: 2rem auto; background: #fffbea; border-color: #ffd93d;">
    <p style="margin: 0;"><strong>ℹ️ Privacy Notice:</strong> Your health information is used only to provide personalized air quality alerts and will not be shared with third parties.</p>
</div>
{% endblock %}